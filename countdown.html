<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>العد التنازلي - ٢٢ أغسطس ٢٠٢٦</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital@0;1&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="11.png">
  <style>
    :root{--bg1:#ecfadc;--accent:#4392fa}
    body {
      margin:0;
      background: #ecfadc;
      font-family: 'Cairo', sans-serif;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      overflow:hidden;
      position:relative;
    }
    canvas#rippleCanvas {
      position:absolute;
      inset:0;
      z-index:0;
    }
    .glass { backdrop-filter: blur(4px) saturate(120%); -webkit-backdrop-filter: blur(6px); }
    @keyframes floaty { 0%{transform: translateY(0px);}50%{transform: translateY(-8px);}100%{transform: translateY(0px);} }
    @keyframes fadeIn { from{ opacity:0; transform: translateY(8px);} to{ opacity:1; transform: translateY(0);} }
    @keyframes calmWave { 0%{transform:translateY(0);}50%{transform:translateY(-3px);}100%{transform:translateY(0);} }
    .fadeIn { animation: fadeIn 1.2s ease both; }
    .animated-text { display:inline-block; animation: calmWave 5s ease-in-out infinite; }
    .card {
      border-radius: 1rem;
      padding: 1rem;
      background: #a2ff5600;
      text-align:center;
      box-shadow:0 0px 30px rgba(27, 73, 0, 0.2);
    }
    .number {
      font-size: 2rem;
      font-weight: bold;
      font-family: 'Amiri', serif;
      color:#2f4931;
      margin-bottom:0.5rem;
      animation: calmWave 6s ease-in-out infinite;
    }
    .label {
      font-size:1rem;
      color:#2f4931;
    }
    .grid {
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:1rem;
    }
    @media(min-width:768px){
      .grid { grid-template-columns: repeat(4,1fr);} 
      .number { font-size:2.5rem; }
    }
  </style>
</head>
<body>
  <canvas id="rippleCanvas"></canvas>

  <div class="relative w-full max-w-3xl rounded-2xl overflow-hidden shadow-2xl glass home-btn" style="box-shadow:0 0px 50px rgba(27, 73, 0, 0.2); position:relative; z-index:1; border-radius: 50px;">

    <div style="position:relative; padding:2rem; text-align:center; background: #ffffff00; border-radius: 50px;">
      <h1 class="fadeIn animated-text" style="font-size:2rem; font-family:'Amiri', serif; color:#2f4931; margin-bottom:0.5rem;">العد التنازلي</h1>
      <p class="fadeIn" style="color:#2f4931; margin-bottom:1.5rem;">
        إلى اليوم: <span class="animated-text" style="font-weight:700;">٢٢ أغسطس ٢٠٢٦</span>
      </p>

      <div class="grid" id="countdown">
        <div class="card"><div class="number" id="days">٠٠</div><div class="label">أيام</div></div>
        <div class="card"><div class="number" id="hours">٠٠</div><div class="label">ساعات</div></div>
        <div class="card"><div class="number" id="minutes">٠٠</div><div class="label">دقائق</div></div>
        <div class="card"><div class="number" id="seconds">٠٠</div><div class="label">ثواني</div></div>
      </div>

      <p style="font-size:0.85rem; opacity:0.8; margin-top:1rem;">التوقيت المحلي</p>

      <div style="margin-top:2rem; animation: floaty 6s ease-in-out infinite;">
        <svg width="110" height="35" viewBox="0 0 110 35" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 22 C20 8 40 32 55 22 C70 12 90 26 110 14" stroke="#2f4931dd" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" opacity="0.9" />
        </svg>
      </div>
    </div>
  </div>

  <script>
    // Countdown logic
    const target = new Date(2026, 7, 22, 0, 0, 0);
    const map = ["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];
    function toArabicIndic(num){
      return String(num).split("").map(c => (c >= '0' && c <= '9' ? map[c.charCodeAt(0)-48] : c)).join("");
    }
    function pad(n){ return n.toString().padStart(2,'0'); }
    function update(){
      const now = new Date();
      let diff = Math.max(0, target-now);
      const days = Math.floor(diff / (1000*60*60*24)); diff -= days*24*60*60*1000;
      const hours = Math.floor(diff / (1000*60*60)); diff -= hours*60*60*1000;
      const minutes = Math.floor(diff / (1000*60)); diff -= minutes*60*1000;
      const seconds = Math.floor(diff/1000);
      document.getElementById('days').textContent = toArabicIndic(pad(days));
      document.getElementById('hours').textContent = toArabicIndic(pad(hours));
      document.getElementById('minutes').textContent = toArabicIndic(pad(minutes));
      document.getElementById('seconds').textContent = toArabicIndic(pad(seconds));
    }
    setInterval(update,1000);
    update();
  </script>
  <script>
    const canvas = document.getElementById('rippleCanvas');
    const ctx = canvas.getContext('2d');
    let width, height;
    
    function resize(){
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    const ripples = [];
    const leaves = [];
    const btn = document.querySelector('.home-btn');

    // Initialize leaves with very low initial velocity
    for(let i=0; i<200; i++){
      leaves.push({
        x: Math.random() * width,
        y: Math.random() * height,
        drift: (Math.random() * 0.15 + 0.05), // Slower base drift
        angle: Math.random() * Math.PI * 2,
        vx: (Math.random() - 0.5) * 0.2,
        vy: (Math.random() - 0.5) * 0.2,
      });
    }

    document.addEventListener('mousemove', e => {
      ripples.push({
        type: 'circle',
        x: e.clientX, 
        y: e.clientY, 
        r: 0, 
        alpha: 0.3
      });
    });

    function spawnBtnRipple() {
        if(btn) {
            const rect = btn.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            ripples.push({
                type: 'rect',
                x: centerX,
                y: centerY,
                baseW: rect.width,
                baseH: rect.height,
                growth: 0,
                alpha: 0.5
            });
        }
    }

    // Increased Interval to 8 seconds for a more spacious feel
    setInterval(() => {
        spawnBtnRipple();
        setTimeout(spawnBtnRipple, 1000); // Increased delay between double ripples
    }, 8000);

    function animate(){
      ctx.clearRect(0, 0, width, height);

      // --- Ripples ---
      for(let i=0; i<ripples.length; i++){
        const rp = ripples[i];
        ctx.beginPath();
        ctx.strokeStyle = `rgba(101,186,109,${rp.alpha})`;
        ctx.lineWidth = 1.2;

        if (rp.type === 'circle') {
            ctx.arc(rp.x, rp.y, rp.r, 0, Math.PI * 2);
            ctx.stroke();
            rp.r += 1.1;
            rp.alpha -= 0.004;
        } 
        else if (rp.type === 'rect') {
            const currentW = rp.baseW + rp.growth;
            const currentH = rp.baseH + rp.growth;
            const currentRadius = 35 + (rp.growth / 2);
            if (ctx.roundRect) {
                ctx.roundRect(rp.x - currentW/2, rp.y - currentH/2, currentW, currentH, currentRadius);
            } else {
                ctx.rect(rp.x - currentW/2, rp.y - currentH/2, currentW, currentH);
            }
            ctx.stroke();
            
            // Slower growth + slower fade = much larger ripples
            rp.growth += 0.7; 
            rp.alpha -= 0.0018; 
        }

        if(rp.alpha <= 0){ 
            ripples.splice(i, 1); 
            i--; 
        }
      }

      // Button center
      let bX, bY;
      if (btn) {
          const r = btn.getBoundingClientRect();
          bX = r.left + r.width / 2;
          bY = r.top + r.height / 2;
      }

      // One-third screen radius for attraction zone
      const attractionRadius = width / 3;

      // --- Leaves ---
      for(const leaf of leaves){
        
        // 1. Localized Spiral Attraction Logic
        if (bX !== undefined) {
            const dx = bX - leaf.x;
            const dy = bY - leaf.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            
            // Only attract if within the center third of the screen
            if (dist < attractionRadius && dist > 15) {
                // Diminishing factor based on distance (stronger at edge of zone, weaker at center)
                const strength = (1 - dist/attractionRadius);
                
                // Radial pull (Extreme slow)
                const pullFactor = 0.000008 * strength;
                leaf.vx += dx * pullFactor;
                leaf.vy += dy * pullFactor;

                // Tangential force (Circular motion)
                const orbitFactor = 0.000025 * strength;
                leaf.vx += dy * orbitFactor; 
                leaf.vy += -dx * orbitFactor;
            }
        }

        // 2. Ripple Interaction
        for(const rp of ripples){
          let dx, dy, dist, isHit = false;
          const pushStrength = 1.5;

          if (rp.type === 'circle') {
              dx = leaf.x - rp.x;
              dy = leaf.y - rp.y;
              dist = Math.sqrt(dx*dx + dy*dy);
              if(dist < rp.r + 15 && dist > rp.r - 15) isHit = true;
          } 
          else if (rp.type === 'rect') {
              dx = leaf.x - rp.x;
              dy = leaf.y - rp.y;
              const halfW = (rp.baseW + rp.growth) / 2;
              const halfH = (rp.baseH + rp.growth) / 2;
              const absDx = Math.abs(dx);
              const absDy = Math.abs(dy);

              // Wider hit zone for the larger button ripple
              const onV = (absDy < halfH + 20) && (absDx > halfW - 15 && absDx < halfW + 25);
              const onH = (absDx < halfW + 20) && (absDy > halfH - 15 && absDy < halfH + 25);

              if (onV || onH) {
                 isHit = true;
                 dist = Math.sqrt(dx*dx + dy*dy); 
              }
          }

          if (isHit) {
              const d = dist || 1; 
              leaf.vx += (dx / d) * pushStrength;
              leaf.vy += (dy / d) * pushStrength;
              leaf.angle = Math.atan2(leaf.vy, leaf.vx);
          }
        }

        // Apply High Friction for "Slower" feel
        leaf.vx *= 0.99; 
        leaf.vy *= 0.99;
        
        leaf.x += leaf.vx + Math.cos(leaf.angle) * leaf.drift;
        leaf.y += leaf.vy + Math.sin(leaf.angle) * leaf.drift * 0.3;

        // Wrapping
        if(leaf.x > width + 30) leaf.x = -30;
        if(leaf.x < -30) leaf.x = width + 30;
        if(leaf.y > height + 30) leaf.y = -30;
        if(leaf.y < -30) leaf.y = height + 30;

        // Draw
        ctx.beginPath();
        ctx.ellipse(leaf.x, leaf.y, 8, 4, leaf.angle, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(101,186,109,0.35)';
        ctx.fill();
      }

      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>